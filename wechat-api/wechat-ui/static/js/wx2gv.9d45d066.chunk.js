(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{110:function(e,t,n){e.exports={container:"pickerItem_container___y1TL",header:"pickerItem_header__2-M2y",person:"pickerItem_person__3kVGU",hidden:"pickerItem_hidden__3pTWG",name:"pickerItem_name__2okoY",icon:"pickerItem_icon__3puOj"}},111:function(e,t,n){e.exports={container:"scheduleItem_container__1VEbB",messageBox:"scheduleItem_messageBox__1mCvo",icon:"scheduleItem_icon__3Iqkr",messageContent:"scheduleItem_messageContent__3acVb",meetingIcon:"scheduleItem_meetingIcon__PfLJE"}},112:function(e,t,n){e.exports={container:"noteEmpty_container__2miYk",icon:"noteEmpty_icon__22y3L",title:"noteEmpty_title__VLNqf",tips:"noteEmpty_tips__2rh_w",image:"noteEmpty_image__2y4Ex"}},113:function(e,t,n){e.exports={detailsWrapper:"details_detailsWrapper__1JHTy",content:"details_content__1bg-L",title:"details_title__3xZWp",header:"details_header__7PI3d",headerItem:"details_headerItem__1gz4g",plus:"details_plus__1YQVg",meetingTime:"details_meetingTime__1IoDU",spanParticipant:"details_spanParticipant__1IAH4",block:"details_block__L6376",blockTitle:"details_blockTitle__uORx9",blockContent:"details_blockContent__gPVG1",operateWrapper:"details_operateWrapper__3W4H8"}},125:function(e,t,n){e.exports={downloadImg:"download_downloadImg__oeCwu",downloadDes:"download_downloadDes__3xOjH",downloadBtn:"download_downloadBtn__2W5ad"}},162:function(e,t,n){e.exports={container:"Empty_container__3sBsE",img:"Empty_img__22tIc",text:"Empty_text__2QNRx"}},163:function(e,t,n){e.exports={loading:"Spin_loading__LAP2C",full:"Spin_full__2ocaP",transparent:"Spin_transparent__1zxbm"}},215:function(e,t,n){e.exports={username:"UserItem_username__35aPw",delete:"UserItem_delete__2NkzI"}},216:function(e,t,n){e.exports={title:"scheduleBlock_title__x9sHq"}},285:function(e,t,n){e.exports=n.p+"static/media/download_ill.b87d1dae.png"},286:function(e,t){e.exports="data:image/png;base64,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"},289:function(e,t,n){e.exports={list:"common_list__1d13d"}},29:function(e,t,n){e.exports={container:"joinMeeting_container__3xPnn",meetingContent:"joinMeeting_meetingContent__1Wkp7",inputMeetingId:"joinMeeting_inputMeetingId__qxXm9",joinBtn:"joinMeeting_joinBtn__2nd61",joinCase:"joinMeeting_joinCase__3Wn3l",line:"joinMeeting_line__136Jt",historyContent:"joinMeeting_historyContent__1X8QQ",historyHead:"joinMeeting_historyHead__qo3ut",historyList:"joinMeeting_historyList__JTYo9",historyItem:"joinMeeting_historyItem__1Ot9t",userNumber:"joinMeeting_userNumber__27sWl",callTime:"joinMeeting_callTime__1yL-H",callInfo:"joinMeeting_callInfo__2g1b_",callIcon:"joinMeeting_callIcon__2MlhD",callOut:"joinMeeting_callOut__3Qwdb",callIn:"joinMeeting_callIn__pN34e",callDrop:"joinMeeting_callDrop__nCuGx",imgAvatar:"joinMeeting_imgAvatar__29q4A",userInfo:"joinMeeting_userInfo__qkMK2",userName:"joinMeeting_userName__12YFr",pwdInput:"joinMeeting_pwdInput__pjfSk"}},299:function(e,t,n){n(300),e.exports=n(665)},300:function(e,t,n){"use strict";"undefined"===typeof Promise&&(n(301).enable(),window.Promise=n(303)),Object.assign=n(127),n(304)},512:function(e,t,n){},572:function(e,t,n){},573:function(e,t,n){},575:function(e,t,n){},64:function(e,t,n){e.exports={header:"side_header__E4A9u",icon:"side_icon__Z48xN",back:"side_back__k-E7U",content:"side_content__2kREa",leftCont:"side_leftCont__1Q51P",rightCont:"side_rightCont__ki21B",container:"side_container__2uT9V",btnSpace:"side_btnSpace__1KGvP",btns:"side_btns__FQH9L",btnItem:"side_btnItem__TLuip",btnback:"side_btnback__F4y6m"}},65:function(e,t,n){e.exports={container:"detailWrapper_container__2wh9Q",title:"detailWrapper_title__35a5G",content:"detailWrapper_content__2q0WM",label:"detailWrapper_label__3g6rk",panel:"detailWrapper_panel__2pOsC",button:"detailWrapper_button__2SEwy",cancle:"detailWrapper_cancle__1JGcy"}},660:function(e,t,n){},661:function(e,t,n){},662:function(e,t,n){},665:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n.n(a),i=n(13),s=n(0),c=n.n(s),o=n(23),u=n.n(o),l=n(25);n(512),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p,m,d,h,f,b,v,g,y,k,O,j,_,w,E,x,C,S,N,P,I,U,z,D,M,T,A,R,B,W,H,L,J,V,Z,Y,X,G,q=n(20),K=n(12),Q=n(19),F=(n(142),n(11)),$=new(p=function e(){Object(K.a)(this,e),Object(q.a)(this,"callUrlInfo",m,this),Object(q.a)(this,"number",d,this),Object(q.a)(this,"callHistoryList",h,this),Object(q.a)(this,"isShowPwdModal",f,this),Object(q.a)(this,"pwd",b,this),Object(q.a)(this,"setIsShowPwdModal",v,this),Object(q.a)(this,"setPwd",g,this),Object(q.a)(this,"setHistory",y,this),Object(q.a)(this,"setCallUrlInfo",k,this),Object(q.a)(this,"setCallNumber",O,this)},m=Object(Q.a)(p.prototype,"callUrlInfo",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{avatar:"",callNumber:"",callUrl:"",deviceType:"",displayName:"",enablePwd:!1,numberType:"",pwdResult:0}}}),d=Object(Q.a)(p.prototype,"number",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=Object(Q.a)(p.prototype,"callHistoryList",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=Object(Q.a)(p.prototype,"isShowPwdModal",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=Object(Q.a)(p.prototype,"pwd",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=Object(Q.a)(p.prototype,"setIsShowPwdModal",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isShowPwdModal=t}}}),g=Object(Q.a)(p.prototype,"setPwd",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.pwd=t}}}),y=Object(Q.a)(p.prototype,"setHistory",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.callHistoryList=t}}}),k=Object(Q.a)(p.prototype,"setCallUrlInfo",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.callUrlInfo=t}}}),O=Object(Q.a)(p.prototype,"setCallNumber",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.number=t}}}),p),ee=new(j=function e(){Object(K.a)(this,e),Object(q.a)(this,"currentUser",_,this),Object(q.a)(this,"checkedTemp",w,this),Object(q.a)(this,"checked",E,this),Object(q.a)(this,"checkedResult",x,this),Object(q.a)(this,"orgId",C,this),Object(q.a)(this,"setCurrentUser",S,this),Object(q.a)(this,"setChecked",N,this),Object(q.a)(this,"setCheckedTemp",P,this),Object(q.a)(this,"setcheckedResult",I,this),Object(q.a)(this,"setInit",U,this),Object(q.a)(this,"setOrgId",z,this)},_=Object(Q.a)(j.prototype,"currentUser",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{id:"",userDisplayName:"",userPhone:"",companyName:""}}}),w=Object(Q.a)(j.prototype,"checkedTemp",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),E=Object(Q.a)(j.prototype,"checked",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),x=Object(Q.a)(j.prototype,"checkedResult",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),C=Object(Q.a)(j.prototype,"orgId",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=Object(Q.a)(j.prototype,"setCurrentUser",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.currentUser=t}}}),N=Object(Q.a)(j.prototype,"setChecked",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.checked=t}}}),P=Object(Q.a)(j.prototype,"setCheckedTemp",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.checkedTemp=t}}}),I=Object(Q.a)(j.prototype,"setcheckedResult",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.checkedResult=t}}}),U=Object(Q.a)(j.prototype,"setInit",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.checked=t,e.checkedTemp=t,e.checkedResult=t}}}),z=Object(Q.a)(j.prototype,"setOrgId",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.orgId=t}}}),j),te=new(D=function e(){Object(K.a)(this,e),Object(q.a)(this,"currentUser",M,this),Object(q.a)(this,"checkedTemp",T,this),Object(q.a)(this,"checked",A,this),Object(q.a)(this,"checkedResult",R,this),Object(q.a)(this,"setCurrentUser",B,this),Object(q.a)(this,"setChecked",W,this),Object(q.a)(this,"setCheckedTemp",H,this),Object(q.a)(this,"setcheckedResult",L,this),Object(q.a)(this,"setInit",J,this)},M=Object(Q.a)(D.prototype,"currentUser",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{id:"0",userDisplayName:"",userPhone:"",companyName:"",unitId:""}}}),T=Object(Q.a)(D.prototype,"checkedTemp",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),A=Object(Q.a)(D.prototype,"checked",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),R=Object(Q.a)(D.prototype,"checkedResult",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),B=Object(Q.a)(D.prototype,"setCurrentUser",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.currentUser=t}}}),W=Object(Q.a)(D.prototype,"setChecked",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.checked=t}}}),H=Object(Q.a)(D.prototype,"setCheckedTemp",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.checkedTemp=t}}}),L=Object(Q.a)(D.prototype,"setcheckedResult",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.checkedResult=t}}}),J=Object(Q.a)(D.prototype,"setInit",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.checked=t,e.checkedTemp=t,e.checkedResult=t}}}),D),ne=new(V=function e(){Object(K.a)(this,e),Object(q.a)(this,"data",Z,this),Object(q.a)(this,"setData",Y,this),Object(q.a)(this,"reset",X,this)},Z=Object(Q.a)(V.prototype,"data",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{title:"",startTime:null,number:"",time:[1]}}}),Y=Object(Q.a)(V.prototype,"setData",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.data=t}}}),X=Object(Q.a)(V.prototype,"reset",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.data={title:"",startTime:null,number:"",time:[1]}}}}),V),ae=n(14),re=n(17),ie=n(16),se=n(18),ce=(n(513),n(293)),oe=n(157),ue=n(79),le=(n(122),n(42)),pe=(n(148),n(43)),me=n(29),de=n.n(me),he=(n(564),n(294)),fe=(n(572),function(e){function t(e){var n;return Object(K.a)(this,t),(n=Object(re.a)(this,Object(ie.a)(t).call(this,e))).onChange=function(e){n.props.onChange&&n.props.onChange(e)},n}return Object(se.a)(t,e),Object(ae.a)(t,[{key:"render",value:function(){var e=this.props;return s.createElement(he.a,Object.assign({},e,{className:"xy-checkbox",onChange:this.onChange}),e.children)}}]),t}(s.Component)),be=n(298),ve=n(10),ge=n.n(ve),ye=(n(573),{bruce:"xy-avatar-bruce",h323:"xy-avatar-h323",hard:"xy-avatar-hard",default:"xy-avatar-default",tvbox:"xy-avatar-tvbox",soft:"xy-avatar-soft"}),ke=function(e){function t(e){var n;return Object(K.a)(this,t),(n=Object(re.a)(this,Object(ie.a)(t).call(this,e))).onError=function(){n.setState({err:!0})},n.state={err:!1},n}return Object(se.a)(t,e),Object(ae.a)(t,[{key:"render",value:function(){var e=this.props,t=e.src,n=e.deviceType,a=void 0===n?1:n,r=(e.height,Object(be.a)(e,["src","deviceType","height"]));if(t&&!this.state.err)return s.createElement("img",Object.assign({className:this.props.className,src:t},r,{onError:this.onError}));var i=ye[a]||ye.default,c=ge()(i,this.props.className);return s.createElement("span",Object.assign({},r,{className:c,style:{display:"inline-block"}}))}}]),t}(s.Component),Oe=Object(l.b)("meetingStore")(G=Object(l.c)(G=function(e){function t(e){var n;return Object(K.a)(this,t),(n=Object(re.a)(this,Object(ie.a)(t).call(this,e))).onclickHistory=function(e){n.props.meetingStore.setCallNumber(e),n.props.onclickHistory()},n.getCallType=function(e){var t=de.a.callOut;switch(e){case 0:t=de.a.callOut;break;case 1:t=de.a.callIn;break;case 2:t=de.a.callDrop}return t},n.getDisplayTime=function(e){var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);var a=t.getTime(),r=a-864e5;return e>=a?n.getTimeHM(e):e<a&&e>=r?n.getYesterdayText():e<r?n.getOldDayText(e):void 0},n.getTimeHM=function(e){var t,n;"string"===typeof e&&(e=parseInt(e));var a=new Date(e);return(t=a.getHours())<10&&(t="0"+t),(n=a.getMinutes())<10&&(n="0"+n),t+":"+n},n.getYesterdayText=function(){return"\u6628\u5929"},n.getOldDayText=function(e){var t=new Date(e);return t.getMonth()+1+"\u6708"+t.getDate()+"\u65e5"},n}return Object(se.a)(t,e),Object(ae.a)(t,[{key:"render",value:function(){var e=this.props.item,t=this.getDisplayTime(e.callTime),n=this.getCallType(e.callType);return s.createElement("div",{className:de.a.historyItem,onClick:this.onclickHistory.bind(this,e.callNumber)},s.createElement("div",{className:de.a.callInfo},s.createElement("div",{className:ge()(de.a.callIcon,n)}),s.createElement(ke,{src:e.avatar,className:de.a.imgAvatar}),s.createElement("div",{className:de.a.userInfo},s.createElement("div",{className:de.a.userName},e.displayName),s.createElement("div",{className:de.a.userNumber},e.callNumber))),s.createElement("div",{className:de.a.callTime},t))}}]),t}(s.Component))||G)||G,je=(n(270),n(158)),_e=(n(575),function(e){return s.createElement(je.a,Object.assign({className:"xy-confirm-body",wrapClassName:"vertical-center-modal"},e),e.children)}),we=n(125),Ee=n.n(we),xe=n(285),Ce=n.n(xe),Se=function(){var e=navigator.userAgent;navigator.appVersion;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari"),weixin:e.indexOf("MicroMessenger")>-1,mac:e.indexOf("Mac OS X")>-1,windows:e.indexOf("Window")>-1,chrome:e.indexOf("Chrome")>-1}}(),Ne=function(e){function t(e){var n;return Object(K.a)(this,t),(n=Object(re.a)(this,Object(ie.a)(t).call(this,e))).componentWillReceiveProps=function(e){n.setState({isShowDownload:e.isShow})},n.onClose=function(){n.props.onClose?n.props.onClose():n.setState({isShowDownload:!1})},n.state={isShowDownload:n.props.isShow},n}return Object(se.a)(t,e),Object(ae.a)(t,[{key:"render",value:function(){var e="https://devcdn.xylink.com/wuhanAPK/app-normal-office-release.apk",t="https://itunes.apple.com/cn/app/%E5%B0%8F%E9%B1%BC%E6%98%93%E8%BF%9Exylink/id1058254032?mt=9";return s.createElement(_e,{closable:!0,visible:this.state.isShowDownload,transparent:!0,maskClosable:!1,onClose:this.onClose},s.createElement("div",{className:Ee.a.download},s.createElement("div",{className:Ee.a.downloadImg},s.createElement("img",{src:Ce.a})),s.createElement("div",{className:Ee.a.downloadDes},"\u4e0b\u8f7d\u5c0f\u9c7c\u6613\u8fde\u5e94\u7528\uff0c\u83b7\u5f97\u4e13\u4e1a\u7684\u89c6\u9891\u4f1a\u8bae\u4f53\u9a8c"),s.createElement("a",{className:Ee.a.downloadBtn,href:Se.android?e:t},"\u4e0b\u8f7d\u5e94\u7528")))}}]),t}(s.Component),Pe=n(161),Ie=n.n(Pe);function Ue(e){return new Promise(function(t,n){var a=e.data||{};e.url.includes("jsapi")||(a._t=+new Date),Ie.a.get(e.url,{params:a}).then(function(e){t(e)}).catch(function(e){n(e)})})}function ze(e){return new Promise(function(t,n){Ie.a.post(e.url,e.data||{}).then(function(e){t(e)}).catch(function(e){n(e)})})}Ie.a.defaults.timeout=5e3;var De={debug:!0,servicePath:"https://test-zhcs.jmrcd.cn/xyysx/"},Me={callUrlInfo:"api/rest/v1/en/lanxin/index/callUrlInfo",history:"api/rest/v1/en/lanxin/callHistory",dating:"api/rest/v1/en/lanxin/dating",getUserList:"api/rest/v1/en/lanxin/addressBook/",reservation:"api/rest/v1/en/lanxin/dating",getAddressUserList:"api/rest/v1/en/lanxin/addressBook",getOrgEntity:"api/rest/v1/en/lanxin/orgEntity",getOauthStruct:"api/rest/v1/en/lanxin/struct/oauthStruct",getUnitById:"api/rest/v1/en/lanxin/govwechat/getunitbyunitid",getChildUnit:"api/rest/v1/en/lanxin/govwechat/childunitbyunitiduri",unitUsersInfo:"api/rest/v1/en/lanxin/govwechat/usersinfo",addChat:"api/rest/v1/en/lanxin/govwechat/dating/datingGd",wxConf:"api/rest/v1/en/lanxin/govwechat/config",agentConf:"api/rest/v1/en/lanxin/govwechat/agent/config",getMeetingDetail:"api/rest/v1/en/lanxin/govwechat/dating/details",getMeetingSchedule:"api/rest/v1/en/lanxin/govwechat/dating/getSchedule",getZWWXChildUnit:"api/rest/v1/en/lanxin/govwechat/wx/childunitbyunitiduri",unitZWWXUsersInfo:"api/rest/v1/en/lanxin/govwechat/hubei/userinfo",addZWWXChat:"api/rest/v1/en/lanxin/govwechat/dating/wx/dating"};for(var Te in Me)Me[Te]=De.servicePath+Me[Te];var Ae=Me,Re={test:"mock/5c889b72cecb1d3ecb3eb947/example_copy/test",callUrlInfo:"api/rest/v1/en/lanxin/index/callUrlInfo",history:"api/rest/v1/en/lanxin/callHistory",dating:"api/rest/v1/en/lanxin/dating",getUserList:"api/rest/v1/en/lanxin/addressBook/",reservation:"api/rest/v1/en/lanxin/dating",getAddressUserList:"api/rest/v1/en/lanxin/addressBook",getOrgEntity:"api/rest/v1/en/lanxin/orgEntity",getOauthStruct:"api/rest/v1/en/lanxin/struct/oauthStruct",getUnitById:"api/rest/v1/en/lanxin/govwechat/getunitbyunitid",getChildUnit:"api/rest/v1/en/lanxin/govwechat/childunitbyunitiduri",unitUsersInfo:"api/rest/v1/en/lanxin/govwechat/usersinfo",addChat:"api/rest/v1/en/lanxin/govwechat/dating/datingGd",wxConf:"api/rest/v1/en/lanxin/govwechat/config",getDownloadUrl:"api/rest/v1/en/lanxin/index/load/version",getUserInfo:"api/rest/v1/en/lanxin/index/getSdkUser"},Be={private:"".concat(location.origin,"/"),txdev:"https://testdev.xylink.com/",dev:"https://sdk.xylink.com/"};if(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BUILD_ENV){var We=Be[Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BUILD_ENV];for(var He in console.log(We),Re)Re[He]=We+Re[He]}var Le=Re;function Je(e){var t=e.data.toString();"serverError"===e.type?t.toString().includes("timeout")?pe.a.offline("\u8bf7\u6c42\u8d85\u65f6\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01"):pe.a.offline("\u8fde\u63a5\u670d\u52a1\u5668\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01"):pe.a.offline(t||"\u6570\u636e\u83b7\u53d6\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01")}var Ve,Ze,Ye,Xe,Ge,qe,Ke,Qe,Fe=new function e(){var t=this;Object(K.a)(this,e),this.base=function(){var e=Object(i.a)(r.a.mark(function e(t,n,a){var i,s,c,o,u,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=a||Ue,e.prev=1,e.next=4,i({url:n,data:t.data});case 4:if(s=e.sent,t.onComplete&&t.onComplete(),!n.includes("jsapi")){e.next=9;break}return console.log("result"),e.abrupt("return",s.data);case 9:if(c=s.data,o=c.status,u=c.msg,l=c.data,200!==o&&204!==o){e.next=14;break}return e.abrupt("return",l);case 14:return t.onError?t.onError(u):Je({type:"fontendErr",data:u}),e.abrupt("return",null);case 16:e.next=23;break;case 18:return e.prev=18,e.t0=e.catch(1),t.onError?t.onError(e.t0):Je({type:"serverError",data:e.t0}),t.onComplete&&t.onComplete(),e.abrupt("return",null);case 23:case"end":return e.stop()}},e,null,[[1,18]])}));return function(t,n,a){return e.apply(this,arguments)}}(),this.getCallUrlInfo=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Le.callUrlInfo));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getCallHistory=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Le.history));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.setCallHistory=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Le.history,ze));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getMeeting=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Le.dating));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.reservation=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Le.reservation,ze));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getAddressUser=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Le.getAddressUserList));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getOrgEntity=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Le.getOrgEntity));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getOauthStruct=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Le.getOauthStruct));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getDownloadUrl=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Le.getDownloadUrl));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getUserInfo=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Le.getUserInfo));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},$e=new function e(){var t=this;Object(K.a)(this,e),this.base=Fe.base,this.getCallUrlInfo=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Ae.callUrlInfo));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getCallHistory=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Ae.history));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.setCallHistory=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Ae.history,ze));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getMeeting=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Ae.dating));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.reservation=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Ae.reservation,ze));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getAddressBook=function(){var e=Object(i.a)(r.a.mark(function e(n,a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Ae.getUserList+a));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),this.getAddressUser=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Ae.getAddressUserList));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getOrgEntity=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Ae.getOrgEntity));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getOauthStruct=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Ae.getOauthStruct));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getUnitById=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Ae.getUnitById));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getChildUnit=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Ae.getChildUnit));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.unitUsersInfo=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Ae.unitUsersInfo));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.addChat=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Ae.addChat,ze));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getMeetingDetail=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Ae.getMeetingDetail));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getMeetingSchedule=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Ae.getMeetingSchedule));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getWxConf=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base({data:{}},"https://xtbgtest.digitalgd.com.cn/yjsphsxt/jsapi"));case 1:case"end":return e.stop()}},e)})),this.getWxTestConf=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base({data:{url:n}},Ae.wxConf));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getAgentConf=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base({data:{url:n}},Ae.agentConf));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getZWWXChildUnit=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Ae.getZWWXChildUnit));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.unitZWWXUsersInfo=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Ae.unitZWWXUsersInfo));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.addZWWXChat=function(){var e=Object(i.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.base(n,Ae.addZWWXChat,ze));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},et=n(286),tt=n.n(et),nt=n(162),at=n.n(nt),rt=function(e){function t(e){var n;return Object(K.a)(this,t),(n=Object(re.a)(this,Object(ie.a)(t).call(this,e))).state={},n}return Object(se.a)(t,e),Object(ae.a)(t,[{key:"render",value:function(){return s.createElement("div",{className:at.a.container},s.createElement("img",{src:tt.a,alt:"",className:at.a.img}),this.props.text?s.createElement("div",{className:at.a.text},this.props.text):null)}}]),t}(s.Component),it=(n(593),n(287)),st=n(154),ct=n(163),ot=n.n(ct),ut=function(e){function t(e){var n;return Object(K.a)(this,t),(n=Object(re.a)(this,Object(ie.a)(t).call(this,e))).state={},n}return Object(se.a)(t,e),Object(ae.a)(t,[{key:"render",value:function(){var e=this.props,t=e.show,n=e.full;return t?s.createElement("div",{className:ge()(n?ot.a.full:ot.a.loading,Object(st.a)({},ot.a.transparent,this.props.transparent)),style:this.props.style},s.createElement(it.a,{size:"large"})):null}}]),t}(s.Component),lt=n(68),pt={},mt=function(e){if(!pt[e]&&""!==pt[e]){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);pt[e]=null===t?"":decodeURIComponent(t[1])}return pt[e]},dt=function(e){var t="";switch(e){case 1:t="\u4e00";break;case 2:t="\u4e8c";break;case 3:t="\u4e09";break;case 4:t="\u56db";break;case 5:t="\u4e94";break;case 6:t="\u516d";break;case 7:t="\u65e5"}return t},ht=new(function(){function e(){Object(K.a)(this,e),this.wd=window,this.wx=this.wd.wx}return Object(ae.a)(e,[{key:"init",value:function(e,t){this.wx.config({beta:!0,debug:De.debug,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["launch3rdApp","agentConfig","selectEnterpriseContact"]}),this.wx.ready(function(){console.log("ready"),t&&t()})}},{key:"agentInit",value:function(e){this.wx.invoke("agentConfig",{agentid:e.agentid,corpid:e.corpid,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["selectEnterpriseContact"],success:function(e){console.log("agentInit success",e)},fail:function(e){console.log("agentInit fail",e)}},function(e){console.log(e),e.err_msg})}},{key:"launchXYApp",value:function(e,t){var n=window.sessionStorage.getItem("cloudHost"),a=e;n&&(a=e+"&accessServer="+n),this.launchXYApp2(a,t)}},{key:"launchXYApp2",value:function(e,t){var n=function(e){for(var t={},n=e.split("&"),a=0;a<n.length;a++){var r=n[a].split("=");t[r[0]]?t[r[0]]+=","+r[1]:t[r[0]]=r[1]}return t}(e.split("joinMeeting?")[1]);console.log("launchXYApp2",n),this.wx.invoke("request3rdApp",{scheme:"xylink",needToken:0,param:Base64.encode(JSON.stringify(n))},function(e){"request3rdApp:ok"!=e.err_msg?(console.log("error",e),t&&t()):console.log("success",e)})}},{key:"userPicker",value:function(e,t){this.wx.invoke("selectEnterpriseContact",{fromDepartmentId:0,mode:"multi",type:["user"],selectedUserIds:e},function(e){"selectEnterpriseContact:ok"==e.err_msg?("string"==typeof e.result&&(e.result=JSON.parse(e.result)),console.log("picker",e.result),t(e)):console.log("picker_error",e)})}}]),e}()),ft=Object(l.b)("meetingStore","userPickerStore")(Ve=Object(l.c)(Ve=function(e){function t(e){var n;return Object(K.a)(this,t),(n=Object(re.a)(this,Object(ie.a)(t).call(this,e))).onChangeNumer=function(e){n.props.meetingStore.setCallNumber(e.target.value)},n.onautoVideoMute=function(e){n.setState({autoVideoMute:e.target.checked})},n.onAutoAudioMute=function(e){n.setState({autoAudioMute:e.target.checked})},n.onJoinMeeting=Object(i.a)(r.a.mark(function e(){var t,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=n.props.meetingStore.number).trim()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,$e.getCallUrlInfo({data:{number:t}});case 5:(a=e.sent)&&a.callNumber?(n.props.meetingStore.setCallUrlInfo(a),n.onSusscessJoinMeeting()):pe.a.info("\u547c\u53eb\u53f7\u7801\u6709\u8bef\uff0c\u8bf7\u68c0\u9a8c");case 7:case"end":return e.stop()}},e)})),n.onSusscessJoinMeeting=function(){var e=n.state,t=e.autoAudioMute,a=e.autoVideoMute,r=n.props,i=r.userPickerStore,s=r.meetingStore.callUrlInfo,c=i.currentUser.userDisplayName,o="xylink://joinMeeting?number="+encodeURIComponent(s.callNumber)+"&topic="+lt.Base64.encode(s.displayName)+"&displayName="+lt.Base64.encode(c)+"&autoAudioMute="+t+"&autoVideoMute="+a;console.log(s,o),ht.launchXYApp(o,function(){n.setState({isShowDownload:!0})}),n.setHistoryCall(function(){n.getCallHistory()})},n.state={autoAudioMute:!1,autoVideoMute:!1,historyLoading:!0,isShowDownload:!1},n}return Object(se.a)(t,e),Object(ae.a)(t,[{key:"componentWillMount",value:function(){this.getCallHistory()}},{key:"render",value:function(){var e=this,t=this.props.meetingStore.callHistoryList,n=this.state.historyLoading;return s.createElement("div",{className:de.a.container},s.createElement("div",{className:de.a.meetingContent},s.createElement("input",{className:de.a.inputMeetingId,placeholder:"\u8bf7\u8f93\u5165\u4e91\u4f1a\u8bae\u53f7\u6216\u7ec8\u7aef\u53f7",onChange:this.onChangeNumer,value:this.props.meetingStore.number}),s.createElement(le.a,{className:de.a.joinBtn,type:"primary",onClick:this.onJoinMeeting},"\u52a0\u5165\u4f1a\u8bae"),s.createElement("div",{className:de.a.joinCase},s.createElement(fe,{key:"autoVideoMute",checked:this.state.autoVideoMute,onChange:this.onautoVideoMute},"\u5165\u4f1a\u65f6\u5173\u95ed\u6444\u50cf\u5934"),s.createElement(fe,{key:"autoAudioMute",checked:this.state.autoAudioMute,onChange:this.onAutoAudioMute},"\u5165\u4f1a\u65f6\u9759\u97f3"))),s.createElement("div",{className:de.a.line}),s.createElement(ut,{show:n,full:!0}),!n&&t&&t.length>0?s.createElement("div",{className:de.a.historyContent},s.createElement("div",{className:de.a.historyHead},"\u6700\u8fd1\u901a\u8bdd"),s.createElement("div",{className:de.a.historyList},t.map(function(t,n){return s.createElement(Oe,{key:n,item:t,onclickHistory:e.onJoinMeeting})}))):s.createElement(rt,{text:"\u6682\u65e0\u6570\u636e"}),s.createElement(Ne,{isShow:this.state.isShowDownload,onClose:function(){e.setState({isShowDownload:!1})}}))}},{key:"setHistoryCall",value:function(){var e=Object(i.a)(r.a.mark(function e(t){var n,a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.userPickerStore.currentUser.userPhone,n=this.props.meetingStore.callUrlInfo,a=(new Date).getTime(),i={callNumber:n.callNumber,callTime:a,displayName:n.displayName,userPhone:this.props.userPickerStore.currentUser.id},e.next=6,$e.setCallHistory({data:i,onComplete:function(){t&&t()}});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getCallHistory",value:function(){var e=Object(i.a)(r.a.mark(function e(){var t,n,a=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={phoneNumber:this.props.userPickerStore.currentUser.id},e.next=3,$e.getCallHistory({data:t,onComplete:function(){a.setState({historyLoading:!1})}});case 3:(n=e.sent)&&this.props.meetingStore.setHistory(n);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(s.Component))||Ve)||Ve,bt=(n(281),n(296)),vt=(n(599),n(297)),gt=(n(149),n(69)),yt=(n(600),n(295)),kt=(n(276),n(108)),Ot=n(155),jt=n(292),_t=n(94),wt=n.n(_t),Et=(n(660),n(36)),xt=Object(Et.b)(),Ct=n(215),St=n.n(Ct),Nt=function(e){function t(e){var n;return Object(K.a)(this,t),(n=Object(re.a)(this,Object(ie.a)(t).call(this,e))).state={},n}return Object(se.a)(t,e),Object(ae.a)(t,[{key:"onClick",value:function(e){this.props.onRemove&&"delete"===this.props.type&&this.props.onRemove(e)}},{key:"render",value:function(){var e=this.props,t=e.userName,n=e.isShowDelete,a=void 0===n||n,r=e.type,i=e.className;return s.createElement("div",{className:ge()(St.a.username,i),onClick:this.onClick.bind(this)},t,"delete"===r&&a?s.createElement("div",{className:St.a.delete}):null)}}]),t}(s.Component),Pt=n(80),It=n.n(Pt),Ut=Object(l.b)("userPickerStore")(Ze=Object(l.c)(Ze=function(e){function t(e){var n;return Object(K.a)(this,t),(n=Object(re.a)(this,Object(ie.a)(t).call(this,e))).getUsers=function(e){var t=e.result.userList;console.log("getUsers",t);var a={};t.forEach(function(e){a[e.id]={id:e.id,name:e.name,checked:!0,mobile:""}});var r=Object.assign({},a);n.props.userPickerStore.setChecked(r)},n.state={status:"normal"},n}return Object(se.a)(t,e),Object(ae.a)(t,[{key:"onReduce",value:function(){this.setState({status:"delete"})}},{key:"onAdd",value:function(){var e=this,t=Object.keys(this.props.userPickerStore.checked)||[];console.log(t,"userList"),ht.userPicker(t,function(t){e.getUsers(t)})}},{key:"onBodyClick",value:function(e){e.persist();try{var t=e.target.className;-1!=t.indexOf("UserItem_username")||-1!=t.indexOf("UserItem_delete")||-1!=t.indexOf("attendees_reduce")||this.setState({status:"normal"})}catch(n){console.log(n)}}},{key:"onBack",value:function(){this.props.userPickerStore.setChecked(this.props.userPickerStore.checkedResult),this.props.history.replace("/")}},{key:"onSure",value:function(){this.props.userPickerStore.setcheckedResult(Object.assign({},this.props.userPickerStore.checked)),this.props.history.replace("/")}},{key:"onRemove",value:function(e){var t=Object.assign({},this.props.userPickerStore.checked);t[e.id]&&delete t[e.id],this.props.userPickerStore.setChecked(t)}},{key:"render",value:function(){var e=this,t=s.createElement("div",null,s.createElement("div",{className:It.a.number},Object.keys(this.props.userPickerStore.checked).length,"\u4eba"),s.createElement("div",{className:It.a.reduce,onClick:this.onReduce.bind(this)}),s.createElement("div",{className:It.a.add,onClick:this.onAdd.bind(this)})),n=[],a=this.props.userPickerStore.checked,r=Object(Ot.a)({},a);console.log(this.props.userPickerStore.checked,r);var i=function(t){var a=r[t];n.push(s.createElement(Nt,{userName:a.name,key:a.name,onRemove:function(){e.onRemove(a)},type:e.state.status}))};for(var c in r)i(c);return s.createElement("div",{className:It.a.container,onClick:this.onBodyClick.bind(this)},s.createElement(gt.a,null,s.createElement(gt.a.Item,{extra:t},"\u53c2\u4f1a\u4eba\u5458")),s.createElement(kt.a,{size:"lg",className:It.a.whiteSpace}),s.createElement("div",{className:It.a.content},0===n.length?s.createElement("div",null,s.createElement(rt,{text:"\u8fd8\u6ca1\u6709\u9009\u62e9\u53c2\u4f1a\u4eba\u5458"}),s.createElement("div",{className:It.a.space})):n))}}]),t}(s.Component))||Ze)||Ze,zt=je.a.alert,Dt=Object(l.b)("userPickerStore","reservationInfoStore","addressUserPickerStore")(Ye=Object(l.c)(Ye=function(e){function t(e){var n;return Object(K.a)(this,t),(n=Object(re.a)(this,Object(ie.a)(t).call(this,e))).state={title:e.reservationInfoStore.data.title||e.userPickerStore.currentUser.userDisplayName+"\u53d1\u8d77\u7684\u4f1a\u8bae",startTime:n.getStartTime(),btnLoading:!1,showDownload:!1},n}return Object(se.a)(t,e),Object(ae.a)(t,[{key:"getStartTime",value:function(){var e=new Date;return e.setMinutes(e.getMinutes()+10),e}},{key:"getTimeOption",value:function(){for(var e=[],t=0,n=0;n<20;n++)t+=.5,e.push({label:t+"\u5c0f\u65f6",value:t});return e}},{key:"getBLen",value:function(e){return null==e?0:("string"!=typeof e&&(e+=""),e.replace(/[^\x00-\xff]/g,"01").length)}},{key:"chooseUser",value:function(){this.props.reservationInfoStore.setData(this.props.form.getFieldsValue()),xt.push("/atendees")}},{key:"ReservationMeeting",value:function(){var e=this,t=this.props.form.getFieldsValue(),n=t.title,a=t.startTime,r=t.time;if(""===n.trim()&&(n=this.props.userPickerStore.currentUser.userDisplayName+"\u53d1\u8d77\u7684\u4f1a\u8bae"),this.getBLen(n)<8||this.getBLen(n)>100)pe.a.info("\u4f1a\u8bae\u4e3b\u9898\u9650\u52364-50\u4e2a\u6c49\u5b57");else{var i=this.props.userPickerStore.checked;if(console.log(this.props.userPickerStore.checkedResult,i,"check"),0!=Object.keys(i).length){this.setState({btnLoading:!0});var s={title:n,startTime:+a,endTime:+a+60*r*60*1e3,uid:this.props.userPickerStore.currentUser.id,userPhone:this.props.userPickerStore.currentUser.userPhone,userDisplayName:this.props.userPickerStore.currentUser.userDisplayName,userList:Object.keys(i).map(function(t){var n=i[t];return console.log("current:::",n),{uid:n.id,userPhone:n.id||"",userDisplayName:"\u6211"==n.name?e.props.userPickerStore.currentUser.userDisplayName:n.name}})};console.log("addZWWXChat::",s),$e.addZWWXChat({data:s,onError:function(){pe.a.fail("\u9884\u7ea6\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")},onComplete:function(){e.setState({btnLoading:!1})}}).then(function(t){t&&(console.log(t),e.reset(),zt("\u63d0\u793a","\u5df2\u6210\u529f\u9884\u7ea6\u4f1a\u8bae\uff0c\u662f\u5426\u7acb\u5373\u53c2\u4f1a\uff1f",[{text:"\u6682\u4e0d",onPress:function(){return console.log("cancel")},style:"default"},{text:"\u53c2\u4f1a",onPress:function(){var n="xylink://joinMeeting?number="+encodeURIComponent(t.meetingRoomNumber)+"&topic="+Base64.encode(t.title)+"&displayName="+Base64.encode(e.props.userPickerStore.currentUser.userDisplayName);console.log(n),ht.launchXYApp(n,function(){return e.setState({showDownload:!0})})}}]))})}else pe.a.info("\u8bf7\u6dfb\u52a0\u53c2\u4f1a\u8005")}}},{key:"reset",value:function(){var e=this.props.form.setFieldsValue,t=this.props.userPickerStore.currentUser.id,n={};n[t]={name:"\u6211",checked:!0,id:t,phone:this.props.userPickerStore.currentUser.userPhone.toString()},this.props.reservationInfoStore.reset(),this.props.userPickerStore.setInit(n),e({title:"",startTime:this.getStartTime(),time:[1]})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldProps,n=this.props.userPickerStore.checkedResult,a=this.props.addressUserPickerStore.checkedResult;Object(Ot.a)({},n,a);return s.createElement("div",{className:"reservation-content"},s.createElement(gt.a,{className:"my-list"},s.createElement(kt.a,{size:"lg",className:wt.a.whiteSpace}),s.createElement(yt.a,Object.assign({},t("title",{initialValue:this.state.title}),{placeholder:"\u8bf7\u8f93\u5165\u4e3b\u9898",className:wt.a.input}),s.createElement("span",{className:wt.a.label},"\u4e3b\u9898")),s.createElement(vt.a,Object.assign({},t("startTime",{initialValue:this.props.reservationInfoStore.data.startTime||this.state.startTime}),{minDate:new Date}),s.createElement(gt.a.Item,{arrow:"horizontal"},"\u5f00\u59cb\u65f6\u95f4")),s.createElement(bt.a,Object.assign({data:this.getTimeOption(),cols:1},t("time",{initialValue:this.props.reservationInfoStore.data.time})),s.createElement(gt.a.Item,{arrow:"horizontal"},"\u4f1a\u8bae\u65f6\u957f"))),s.createElement(Ut,null),s.createElement(kt.a,{size:"lg",className:wt.a.whiteSpace}),s.createElement("div",{className:wt.a.btn},s.createElement(le.a,{type:"primary",loading:this.state.btnLoading,onClick:this.ReservationMeeting.bind(this)},"\u786e\u5b9a")),s.createElement(kt.a,{size:"lg",className:wt.a.whiteSpace}),s.createElement(Ne,{isShow:this.state.showDownload,onClose:function(){e.setState({showDownload:!1})}}))}}]),t}(s.Component))||Ye)||Ye,Mt=Object(jt.a)()(Dt),Tt=(n(661),n(662),300),At=function(e){function t(e){var n;return Object(K.a)(this,t),(n=Object(re.a)(this,Object(ie.a)(t).call(this,e))).state={index:0,list:[],onAnimate:!1,animateTime:Tt,type:""},n}return Object(se.a)(t,e),Object(ae.a)(t,[{key:"push",value:function(e){var t=this;if(!this.state.onAnimate){var n=this.state.list;n.push(e),this.setState({type:"push",onAnimate:!0,list:n},function(){setTimeout(function(){t.setState({onAnimate:!1})},t.state.animateTime)})}}},{key:"pop",value:function(){var e=this;this.state.onAnimate||this.setState({onAnimate:!0,type:"pop"},function(){setTimeout(function(){e.setState({onAnimate:!1})},e.state.animateTime)})}},{key:"onRender",value:function(){var e=this;if("pop"==this.state.type){var t=this.state.list;t.pop(),setTimeout(function(){e.setState({type:"",list:t})},Tt)}}},{key:"render",value:function(){var e,t=this,n=this.state.list.map(function(e,n){var a=n==t.state.list.length-1?"next push":"next";return s.createElement("div",{className:a,key:n},e)}),a=this.state.list.map(function(e,n){var a=n==t.state.list.length-1?"next pop":"next";return s.createElement("div",{className:a,key:n},e)}),r=this.state.list.map(function(e,t){return s.createElement("div",{className:"next",key:t},e)});return e="push"==this.state.type?n:"pop"==this.state.type?a:r,this.onRender(),s.createElement("div",{className:"pageControl-container",ref:"pageControl"},s.createElement("div",{className:"current"},this.props.initPage),e)}}]),t}(s.Component),Rt=n(95),Bt=n.n(Rt),Wt=n(56),Ht=n(289),Lt=n.n(Ht),Jt=(n(147),n(78)),Vt=n(110),Zt=n.n(Vt),Yt=Object(l.b)("userPickerStore")(Xe=Object(l.c)((Ge=function(e){function t(e){var n;Object(K.a)(this,t);var a=(n=Object(re.a)(this,Object(ie.a)(t).call(this,e))).props.userPickerStore.checkedTemp[n.props.id]||{id:n.props.id,name:n.userName,checked:!1,phone:n.props.mobile};return n.state={checked:a.checked},n}return Object(se.a)(t,e),Object(ae.a)(t,[{key:"onItemClick",value:function(e){if(e.persist(),"person"!==this.props.type)this.props.onClick({id:this.props.id,name:this.props.name});else{var t=Object.assign({},this.props.userPickerStore.checkedTemp);t[this.props.id]={id:this.props.id,name:this.props.name||"",checked:!this.state.checked,phone:this.props.mobile},this.props.userPickerStore.setCheckedTemp(t),this.setState({checked:!this.state.checked})}}},{key:"render",value:function(){var e=s.createElement("div",{className:"person"===this.props.type?Zt.a.person:Zt.a.header}),t="person"===this.props.type?null:s.createElement(Jt.a,{type:"right",size:"lg",className:Zt.a.icon});return s.createElement("div",{className:Zt.a.container,onClick:this.onItemClick.bind(this)},"person"===this.props.type?s.createElement(fe,{key:"123",children:"",checked:this.state.checked}):null,e,s.createElement("div",{className:Zt.a.name},this.props.name),t)}},{key:"userName",get:function(){return this.props.id==this.props.userPickerStore.currentUser.id?"\u6211":this.props.name}}]),t}(s.Component),Object(Q.a)(Ge.prototype,"userName",[F.e],Object.getOwnPropertyDescriptor(Ge.prototype,"userName"),Ge.prototype),Xe=Ge))||Xe)||Xe,Xt=function(e){function t(e){var n;return Object(K.a)(this,t),(n=Object(re.a)(this,Object(ie.a)(t).call(this,e))).state={list:[],loading:!0},n}return Object(se.a)(t,e),Object(ae.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.id;this.getDataById(e)}},{key:"getDataById",value:function(){var e=Object(i.a)(r.a.mark(function e(){var t,n,a,i=this,s=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=s.length>0&&void 0!==s[0]?s[0]:"",n=$e.getZWWXChildUnit({data:{unitid:t}}),a=$e.unitZWWXUsersInfo({data:{unitid:t}}),Promise.all([n,a]).then(function(e){var t=Object(Wt.a)(e,2),n=t[0],a=t[1];n&&a?(n=n.units.map(function(e){return e.type="",e}),console.log("getDataById:::",a),a=a.users.map(function(e){return e.type="person",e}),console.log("===>>>>3",n.concat(a)),i.setState({list:n.concat(a),loading:!1})):i.setState({loading:!1})});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"getPicker",value:function(e){var t=this;return e.map(function(e,n){var a=e.username||e.unitname,r=e.userid||e.unitid;return s.createElement(Yt,{name:a,type:e.type,id:r,key:n,mobile:e.telephonenumber||"",onClick:t.props.onClick.bind(t)})})}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.list;return t?s.createElement(ut,{show:t}):s.createElement("div",{className:Lt.a.list},n.length?this.getPicker(n):s.createElement(rt,{text:"\u6682\u65e0\u6570\u636e"}))}}]),t}(s.Component),Gt=Object(l.b)("userPickerStore")(qe=Object(l.c)(qe=function(e){function t(e){var n;return Object(K.a)(this,t),(n=Object(re.a)(this,Object(ie.a)(t).call(this,e))).myRef=void 0,n.myRef=s.createRef(),n.state={},n}return Object(se.a)(t,e),Object(ae.a)(t,[{key:"onBack",value:function(){var e=Object.assign({},this.props.userPickerStore.checkedTemp);this.filter(e),this.props.userPickerStore.setChecked(e),this.props.history.goBack()}},{key:"filter",value:function(e){for(var t in e)!1===e[t].checked&&delete e[t]}},{key:"onSure",value:function(){var e=Object.assign({},this.props.userPickerStore.checkedTemp);this.filter(e),this.props.userPickerStore.setChecked(e),this.props.history.goBack()}},{key:"itemOnClick",value:function(e){this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){var e=this.props.userPickerStore.currentUser,t=e.companyName,n=e.unitId;return s.createElement("div",{className:Bt.a.container},t&&s.createElement("div",{className:Bt.a.companyName},t),s.createElement(Xt,{id:n,onClick:this.itemOnClick.bind(this)}),s.createElement("div",{className:Bt.a.btns},s.createElement(le.a,{className:Bt.a.back,onClick:this.onBack.bind(this)},"\u8fd4\u56de"),s.createElement("div",{className:Bt.a.btnSpace}),s.createElement(le.a,{className:Bt.a.btnItem,type:"primary",onClick:this.onSure.bind(this)},"\u786e\u5b9a")))}}]),t}(s.Component))||qe)||qe,qt=n(64),Kt=n.n(qt),Qt=Object(l.b)("userPickerStore")(Ke=Object(l.c)(Ke=function(e){function t(e){var n;return Object(K.a)(this,t),(n=Object(re.a)(this,Object(ie.a)(t).call(this,e))).state={},n}return Object(se.a)(t,e),Object(ae.a)(t,[{key:"onBack",value:function(){var e=Object.assign({},this.props.userPickerStore.checkedTemp);this.filter(e),this.props.userPickerStore.setChecked(e),this.props.onBack()}},{key:"filter",value:function(e){for(var t in e)!1===e[t].checked&&delete e[t]}},{key:"onSure",value:function(){var e=Object.assign({},this.props.userPickerStore.checkedTemp);this.filter(e),this.props.userPickerStore.setChecked(e),this.props.history.goBack()}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.onClick;return s.createElement("div",{className:Kt.a.container},s.createElement("div",{className:Kt.a.header},s.createElement("div",{className:Kt.a.leftCont}),s.createElement("div",{className:Kt.a.content},this.props.data.name),s.createElement("div",{className:Kt.a.rightCont})),s.createElement(Xt,{id:t.id,onClick:n}),s.createElement("div",{className:Kt.a.btns},s.createElement(le.a,{className:Kt.a.btnback,onClick:this.onBack.bind(this)},"\u8fd4\u56de"),s.createElement("div",{className:Kt.a.btnSpace}),s.createElement(le.a,{className:Kt.a.btnItem,type:"primary",onClick:this.onSure.bind(this)},"\u786e\u5b9a")))}}]),t}(s.Component))||Ke)||Ke,Ft=Object(l.b)("userPickerStore")(Qe=Object(l.c)(Qe=function(e){function t(e){var n;return Object(K.a)(this,t),(n=Object(re.a)(this,Object(ie.a)(t).call(this,e))).myRef=void 0,n.myRef=s.createRef(),n.state={},n}return Object(se.a)(t,e),Object(ae.a)(t,[{key:"componentWillMount",value:function(){this.props.userPickerStore.setCheckedTemp(this.props.userPickerStore.checked)}},{key:"onBack",value:function(){this.myRef.current.pop()}},{key:"onClick",value:function(e){this.myRef.current.push(s.createElement(Qt,{history:this.props.history,onBack:this.onBack.bind(this),onClick:this.onClick.bind(this),data:e}))}},{key:"render",value:function(){return s.createElement(At,{ref:this.myRef,initPage:s.createElement(Gt,{history:this.props.history,onClick:this.onClick.bind(this)})})}}]),t}(s.Component))||Qe)||Qe,$t=n(111),en=n.n($t);function tn(e){return c.a.createElement("div",{className:en.a.container,onClick:function(){return e.onClick&&e.onClick(e.item)}},c.a.createElement("div",{className:en.a.messageBox},c.a.createElement("div",{className:ge()(en.a.icon,en.a.meetingIcon)}),c.a.createElement("div",{className:en.a.messageContent},c.a.createElement("header",null,e.item.title||"-"),c.a.createElement("footer",null,e.item.time||"-"),c.a.createElement("footer",null,"\u53d1\u8d77\u4eba\uff1a",e.item.name||"-"))),c.a.createElement(Jt.a,{type:"right"}))}var nn=n(216),an=n.n(nn);function rn(e){return c.a.createElement("div",{className:an.a.container},c.a.createElement("div",{className:an.a.title},e.item.title),e.item.children.map(function(t){return c.a.createElement(tn,{key:t.id,item:t,onClick:e.onClick})}))}var sn=n(112),cn=n.n(sn);function on(e){return c.a.createElement("div",{className:cn.a.container},c.a.createElement("div",{className:ge()(cn.a.icon,cn.a.image)}),c.a.createElement("div",{className:cn.a.title},e.title||"\u6682\u65e0\u65e5\u7a0b\u5b89\u6392"),c.a.createElement("div",{className:cn.a.tips},e.tips||"\u8bf7\u5728\u201c\u53ec\u5f00\u4f1a\u8bae\u201d\u4e2d\u9884\u7ea6\u4f1a\u8bae"))}var un=n(35),ln=n.n(un);function pn(){var e=Object(s.useState)(!1),t=Object(Wt.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)([]),i=Object(Wt.a)(r,2),o=i[0],u=i[1];Object(s.useEffect)(function(){l()},[]);var l=function(){a(!0),$e.getMeetingSchedule({data:{userPhone:ee.currentUser.id},onComplete:function(){a(!1)}}).then(function(e){if(e){e=e.sort(function(e,t){return t.startTime-e.startTime});var t={};e.forEach(function(e){var n=ln()(e.startTime).startOf("day").unix();t[n]?t[n].push(e):t[n]=[e]});var n=[];Object.keys(t).sort(function(e,t){return+t-+e}).forEach(function(e){var a=+e,r=ln.a.unix(a),i={id:a,title:r.format("MM\u6708DD\u65e5 \u661f\u671f")+dt(r.day()),children:t[a].map(function(e){return{title:e.title,id:e.id,meetingId:e.meetingId,roomId:e.meetingRoomNumber,name:e.userDisplayName,time:"".concat(r.format("MM/DD")," ").concat(ln()(e.startTime).format("HH:mm")," - ").concat(ln()(e.endTime).format("HH:mm"))}})};n.push(i)}),u(n)}})},p=function(e){xt.push("/scheduleDetail/".concat(e.meetingId,"/").concat(e.roomId))};return c.a.createElement("div",{style:{height:"100%",overflowY:"auto",position:"relative"}},c.a.createElement(ut,{show:n,full:!0}),o.length?o.map(function(e){return c.a.createElement(rn,{onClick:p,item:e,key:e.id})}):c.a.createElement(on,null))}var mn=n(65),dn=n.n(mn);function hn(e){return c.a.createElement("div",{className:dn.a.container},c.a.createElement("header",null,c.a.createElement("div",{className:dn.a.title},e.detail.title||"-"),e.detail.headerItems.map(function(e,t){return c.a.createElement("div",{className:dn.a.content,key:t},c.a.createElement("div",{className:dn.a.label},e.label,"\uff1a"),c.a.createElement("div",{className:dn.a.panel},e.panel))})),c.a.createElement("div",{style:{height:"10px"}}),c.a.createElement("main",null,c.a.createElement("div",{className:dn.a.content},e.detail.mainItems.map(function(e,t){return c.a.createElement("section",{key:t},c.a.createElement("h4",null,e.label),c.a.createElement("aside",null,e.panel))})),c.a.createElement("footer",null,e.cancleText&&c.a.createElement(le.a,{className:ge()(dn.a.button,dn.a.cancle),onClick:function(){return e.onCancle&&e.onCancle()}},e.cancleText),c.a.createElement(le.a,{type:"primary",loading:e.loading,className:dn.a.button,onClick:e.onSure},e.sureText))))}function fn(e){var t=Object(s.useState)(e.match.params.meetingId),n=Object(Wt.a)(t,1)[0],a=Object(s.useState)(e.match.params.roomId),r=Object(Wt.a)(a,1)[0],i=Object(s.useState)(!1),o=Object(Wt.a)(i,2),u=o[0],l=o[1],p=Object(s.useState)(!1),m=Object(Wt.a)(p,2),d=m[0],h=m[1],f=Object(s.useState)({title:"",headerItems:[],mainItems:[]}),b=Object(Wt.a)(f,2),v=b[0],g=b[1];Object(s.useEffect)(function(){y()},[]);var y=function(){l(!0),$e.getMeetingDetail({data:{meetingId:n,userPhone:ee.currentUser.id,userDisplayName:ee.currentUser.userDisplayName},onComplete:function(){l(!1)}}).then(function(e){if(e){var t={title:e.title,headerItems:[{label:"\u4f1a\u8bae\u53f7",panel:e.meetingRoomNumber||"-"},{label:"\u65f6\u95f4",panel:"".concat(ln()(e.startTime).format("YYYY/MM/DD HH:mm")," - ").concat(ln()(e.endTime).format("HH:mm"))},{label:"\u53d1\u8d77\u4eba",panel:e.userDisplayName}],mainItems:[{label:"\u53c2\u4f1a\u4eba\u5458",panel:e.userList.map(function(e){return e.userDisplayName}).join(",")}]};g(t)}})};return c.a.createElement("div",{style:{height:"100%",position:"relative"}},c.a.createElement(ut,{show:u,full:!0}),c.a.createElement(hn,{onSure:function(){if(v.title){console.log(r,n,e.match.params);var t="xylink://joinMeeting?number="+encodeURIComponent(r)+"&topic="+lt.Base64.encode(v.title)+"&displayName="+lt.Base64.encode(ee.currentUser.userDisplayName);ht.launchXYApp2(t,function(){return h(!0)})}},detail:v,sureText:"\u53c2\u4f1a",cancleText:"\u8fd4\u56de",onCancle:function(){e.history.replace("/?toSchedule")}}),c.a.createElement(Ne,{isShow:d,onClose:function(){h(!1)}}))}var bn,vn=function(e){function t(e){var n;Object(K.a)(this,t);var a=(n=Object(re.a)(this,Object(ie.a)(t).call(this,e))).props.location;return n.state={pageIndex:a.search.includes("toJoinMeeting")?2:a.search.includes("toSchedule")?1:0},n}return Object(se.a)(t,e),Object(ae.a)(t,[{key:"render",value:function(){var e=this;return s.createElement(ce.a,{tabs:[{title:"\u53d1\u8d77\u4f1a\u8bae"},{title:"\u4f1a\u8bae\u65e5\u7a0b"},{title:"\u52a0\u5165\u4f1a\u8bae"}],swipeable:!1,page:this.state.pageIndex,onTabClick:function(t,n){""!==e.props.location.search&&e.props.history.replace("/"),e.setState({pageIndex:n})},tabBarUnderlineStyle:{width:"20px"}},s.createElement(Mt,null),1===this.state.pageIndex?s.createElement(pn,null):s.createElement(on,null),s.createElement(ft,null))}}]),t}(s.Component),gn=function(e){function t(e){var n;return Object(K.a)(this,t),(n=Object(re.a)(this,Object(ie.a)(t).call(this,e))).state={},n}return Object(se.a)(t,e),Object(ae.a)(t,[{key:"render",value:function(){return s.createElement(oe.a,null,s.createElement(ue.c,null,s.createElement(ue.a,{exact:!0,path:"/",component:vn}),s.createElement(ue.a,{path:"/userpicker",component:Ft}),s.createElement(ue.a,{path:"/scheduleDetail/:meetingId/:roomId",component:fn}),s.createElement(ue.a,{component:vn})))}}]),t}(s.Component),yn=Object(l.b)("userPickerStore","addressUserPickerStore")(bn=Object(l.c)(bn=function(e){function t(e){var n;return Object(K.a)(this,t),(n=Object(re.a)(this,Object(ie.a)(t).call(this,e))).state={},n}return Object(se.a)(t,e),Object(ae.a)(t,[{key:"componentWillMount",value:function(){var e=window.location,t=decodeURIComponent(e.search),n=(t=t.substr(1)).split("&"),a={};n.forEach(function(e){var t=e.split("=");a[t[0]]=t[1]});var r=a,i={};this.props.userPickerStore.setInit(i),this.props.addressUserPickerStore.setInit(i);var s={id:r.id,userDisplayName:r.userDisplayName||"",userPhone:r.userPhone||"",companyName:r.companyName||"",unitId:r.unitid||""};console.log("userInfo",s),this.props.userPickerStore.setCurrentUser(s),this.props.addressUserPickerStore.setCurrentUser(s)}},{key:"render",value:function(){return s.createElement("div",{style:{height:"100%"}},s.createElement(gn,null))}}]),t}(s.Component))||bn)||bn,kn=n(113),On=n.n(kn),jn={endTime:0,id:"",meetingId:"",meetingRoomNumber:"",startTime:0,title:"",userDisplayName:"",userList:[],userPhone:""},_n=function(e){function t(e){var n;return Object(K.a)(this,t),(n=Object(re.a)(this,Object(ie.a)(t).call(this,e))).onJoinMeeting=function(){var e=n.state.meeting,t=e.meetingRoomNumber,a=e.title;if(t&&a){var r=mt("userDisplayName")||"\u533f\u540d\u7528\u6237",i="xylink://joinMeeting?number="+encodeURIComponent(t)+"&topic="+lt.Base64.encode(a)+"&displayName="+lt.Base64.encode(r);ht.launchXYApp(i,function(){n.setState({isShowDownload:!0})}),n.setHistoryCall()}},n.state={meeting:jn,loading:!0,isShowDownload:!1},n}return Object(se.a)(t,e),Object(ae.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark(function e(){var t,n,a=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=mt("meetingId"))){e.next=8;break}return e.next=4,$e.getMeeting({data:{meetingId:t},onError:function(){pe.a.fail("\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")},onComplete:function(){a.setState({loading:!1})}});case 4:(n=e.sent)&&this.setState({loading:!1,meeting:n}),e.next=10;break;case 8:pe.a.fail("\u4fe1\u606f\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"),this.setState({loading:!1});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.meeting,n=t.title,a=t.startTime,r=t.endTime,i=t.userDisplayName,c=t.userList,o=Number(ln()(r).format("DD"))-Number(ln()(a).format("DD")),u={title:n,headerItems:[{label:"\u4f1a\u8bae\u53f7",panel:this.state.meeting.meetingRoomNumber||"-"},{label:"\u65f6\u95f4",panel:s.createElement("span",null,ln()(a).format("YYYY/MM/DD"),s.createElement("span",{className:On.a.meetingTime},a?ln()(a).format("HH:mm"):"","-",r?ln()(r).format("HH:mm"):"",!!o&&s.createElement("i",{className:On.a.plus},"+",o,"\u5929")))},{label:"\u53d1\u8d77\u4eba",panel:i||"-"}],mainItems:[{label:"\u53c2\u4f1a\u4eba\u5458",panel:s.createElement("div",{className:On.a.blockContent},c&&c.map(function(e,t){return s.createElement("span",{key:t,className:On.a.spanParticipant},e.userDisplayName?e.userDisplayName:e.userPhone,";")}))}]};return s.createElement("div",{className:On.a.detailsWrapper},s.createElement(ut,{show:this.state.loading,full:!0,transparent:!0}),s.createElement(hn,{sureText:"\u53c2\u4f1a",onSure:this.onJoinMeeting,detail:u}),s.createElement(Ne,{isShow:this.state.isShowDownload,onClose:function(){e.setState({isShowDownload:!1})}}))}},{key:"setHistoryCall",value:function(){var e=Object(i.a)(r.a.mark(function e(t){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new Date).getTime(),mt("userPhone"),a={callNumber:this.state.meeting.meetingRoomNumber,callTime:n,displayName:this.state.meeting.title,userPhone:ee.currentUser.id},e.next=5,$e.setCallHistory({data:a,onComplete:function(){t&&t()}});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(s.Component),wn=n(291);if(De.debug)new(n.n(wn).a);var En={meetingStore:$,userPickerStore:ee,addressUserPickerStore:te,reservationInfoStore:ne},xn=window.location.href.split("#")[0];$e.getWxTestConf(xn).then(function(e){e?ht.init(e,function(){$e.getAgentConf(xn).then(function(){var t=Object(i.a)(r.a.mark(function t(n){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(JSON.stringify(e),JSON.stringify(n)),!n){t.next=6;break}return t.next=4,ht.agentInit(n);case 4:t.next=7;break;case 6:console.log("error");case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}):console.log("error init")});var Cn=mt("cloudHost");window.sessionStorage.setItem("cloudHost",Cn),u.a.render(c.a.createElement(l.a,En,c.a.createElement(oe.a,null,c.a.createElement(ue.c,null,c.a.createElement(ue.a,{path:"/meetingdetails",component:_n}),c.a.createElement(ue.a,{component:yn})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},80:function(e,t,n){e.exports={add:"attendees_add__2BWZV",reduce:"attendees_reduce__4G-vf",number:"attendees_number__3XYPZ",whiteSpace:"attendees_whiteSpace__22q72",content:"attendees_content__2Qnhx",container:"attendees_container__sRceT",btnItem:"attendees_btnItem__2bYmR",back:"attendees_back__T1-ub",space:"attendees_space__UtUQu",btnSpace:"attendees_btnSpace__cV4ZV",btns:"attendees_btns__T2_Dc"}},94:function(e,t,n){e.exports={input:"reservation_input__3q5Cd",label:"reservation_label__2QcuB",whiteSpace:"reservation_whiteSpace__2oSQt",btn:"reservation_btn__9Ki-1"}},95:function(e,t,n){e.exports={container:"main_container__20mNe",companyName:"main_companyName__19nOr",btnItem:"main_btnItem__fUljk",back:"main_back__2omKz",space:"main_space__28bgG",btnSpace:"main_btnSpace__38eKB",btns:"main_btns__3fGAd",navbar:"main_navbar__1JsPA",navBarName:"main_navBarName__1jVvw",slideBtn:"main_slideBtn__bZghx",loading:"main_loading__3ipDr"}}},[[299,0,2]]]);